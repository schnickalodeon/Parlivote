@page "/motions"
@using Parlivote.Web.Views.Components.Motions
@using Parlivote.Web.Models.Views.Motions

<StateEvaluation State="@this.state">
    <Loading>
        <SpinnerBase Value="Motions" IsVisible="true" />
    </Loading>

    <Content>
        <CrudDataGridBase 
            DataItems="Motions" 
            OnEditClicked="@((MotionView view) => editMotionComponent.Show(view))"
            OnDeleteClicked="@((MotionView view) => deleteMotionComponent.Show(view))">
            <HeaderTemplate>
                <th>Beschreibung</th>
                <th>Version</th>
                <th>Status</th>
                <th>Meeting</th>
            </HeaderTemplate>
        </CrudDataGridBase>
    </Content>
    
    <Error>
        <ErrorBase ErrorMessage="@this.error" />
    </Error>
</StateEvaluation>

<EditMotionComponent @ref="editMotionComponent" OnMotionSaved="LoadMotions"/>
<DeleteMotionDialog @ref="deleteMotionComponent" OnDeleted="LoadMotions"/>

